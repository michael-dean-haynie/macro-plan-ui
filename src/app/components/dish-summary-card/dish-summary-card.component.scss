@import "../../../style-variables.scss";

// individual food card breakpoints
$one-col-card-bp: 450px;
$three-col-card-bp: 1420px;

.dish__container {
  height:100%;
  display: grid;
  align-items: stretch;
}

mat-card-content > mat-divider {
  margin-bottom: 1rem;
}

.section-heading{
  margin-top: .5rem;
  margin-bottom: .5rem;
  color: rgba(0,0,0,.54);
  font-weight:bold;

  .section-heading__spacer{
    height:.5rem;
  }
}

#breakdown-heading {
  margin-top:2rem;
}

.summary__content {
  display: grid;
  grid-template-columns: fit-content(100%) auto;
  grid-gap: 1em;
}

.summary__chart {
  // value also set in chart config obj
  min-width: 100px;
}

.summary__text-data {
  display: grid;
  grid-template-rows: auto 1fr;
  grid-row-gap: 1em;

  @mixin wide-card {
    grid-template-rows: auto;
    grid-template-columns: auto auto;
    grid-column-gap: 2em;
  }

  @media (min-width: $one-col-card-bp) and (max-width: $list-page-two-col-bp){
    @include wide-card
  }

  @media (min-width: $three-col-card-bp){
    @include wide-card
  }
}

.dish__macros {  
  position: relative;
  display: inline-grid;
  grid-template-columns: auto 1em auto 1em auto .5em auto;
  grid-template-rows: auto auto auto;
  font-size: 0.9em;
  
}

.dish__macros > * {
  border-top: $divider-border;

  // selects first 5 (so the whole first row)
  &:nth-child(-n+7) {
    border-top: none;
  }
}

// TODO: combine font-weight for these
.heading-fat {
  font-weight: bold;
  color: $fat-color;
}
.heading-carbs {
  font-weight: bold;
  color: $carbs-color;
}
.heading-protein {
  font-weight: bold;
  color: $protein-color;
}
.heading-calories {
  font-weight: bold;
  color: $calories-color;
}
.heading-serving-size {
  font-weight: bold;
}

.breakdown table {
  width: 100%;

  tr[mat-header-row] {
    height: 1em;
  }

  th.align-center {
    text-align: center;
  }

  td {
    font-size: .8em;
    position:relative;
  }

  th, td {
    min-width: 4em;

    &:first-of-type {
      padding-left:5px;
    }

    &:last-of-type {
      padding-right:5px;
    }
  }

  .breakdown__percentage-indicator {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 50%;

    &.cal {
      background: $calories-percentage-indicator-color;
    }

    &.fat {
      background: $fat-percentage-indicator-color;
    }

    &.carbs {
      background: $carbs-percentage-indicator-color;
    }

    &.protein {
      background: $protein-percentage-indicator-color;
    }
  }
}