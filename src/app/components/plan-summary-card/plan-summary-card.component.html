<div class="plan__container">
  <mat-card class="plan">
    <mat-card-content>

      <div class="section-heading">
        Macros ( Actual / Target )
        <mat-divider></mat-divider>
        <div class="section-heading__spacer"></div>
      </div>

      <div class="plan__targets">
        <div>
          <div class="heading-calories">Calories</div>
          <div>{{planCalories | number: '1.0-2'}} / {{plan.calories | number: '1.0-2'}}</div>
        </div>
        <div>
          <div class="heading-fat">Fat (g)</div>
          <div>{{planFat | number: '1.0-2'}} / {{plan.fat | number: '1.0-2'}}</div>
        </div>
        <div>
          <div class="heading-carbs">Carbs (g)</div>
          <div>{{planCarbs | number: '1.0-2'}} / {{plan.carbs | number: '1.0-2'}}</div>
        </div>
        <div>
          <div class="heading-protein">Protein (g)</div>
          <div>{{planProtein | number: '1.0-2'}} / {{plan.protein | number: '1.0-2'}}</div>
        </div>
      </div>



      <div id="breakdown-heading" class="section-heading">
        Plan Breakdown
        <mat-divider></mat-divider>
        <div class="section-heading__spacer"></div>
      </div>

      <div class="breakdown">
        <table mat-table [dataSource]="breakdownData">

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef class="align-center"></th>
            <td mat-cell *matCellDef="let item">
              {{item.name}}
              <br />
              <span class="soft-text">{{item.measurement | measurements}}</span>
            </td>
          </ng-container>

          <ng-container matColumnDef="calories">
            <th mat-header-cell *matHeaderCellDef class="align-center heading-calories">Calories</th>
            <td mat-cell *matCellDef="let item" class="align-center">
              {{item.calories | number: '1.0-1'}}
              <div class="breakdown__percentage-indicator cal" [style.height]="item.caloriesPercentage+'%'"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="fat">
            <th mat-header-cell *matHeaderCellDef class="align-center heading-fat">Fat</th>
            <td mat-cell *matCellDef="let item" class="align-center">
              {{item.fat | number: '1.0-1'}}<span class="soft-text">g</span>
              <br />
              {{item.fatCalories | number: '1.0-1'}}<span class="soft-text">cal</span>
              <div class="breakdown__percentage-indicator fat" [style.height]="item.fatPercentage+'%'"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="carbs">
            <th mat-header-cell *matHeaderCellDef class="align-center heading-carbs">Carbs</th>
            <td mat-cell *matCellDef="let item" class="align-center">
              {{item.carbs | number: '1.0-1'}}<span class="soft-text">g</span>
              <br />
              {{item.carbsCalories | number: '1.0-1'}}<span class="soft-text">cal</span>
              <div class="breakdown__percentage-indicator carbs" [style.height]="item.carbsPercentage+'%'"></div>
            </td>
          </ng-container>

          <ng-container matColumnDef="protein">
            <th mat-header-cell *matHeaderCellDef class="align-center heading-protein">Protein</th>
            <td mat-cell *matCellDef="let item" class="align-center">
              {{item.protein | number: '1.0-1'}}<span class="soft-text">g</span>
              <br />
              {{item.proteinCalories | number: '1.0-1'}}<span class="soft-text">cal</span>
              <div class="breakdown__percentage-indicator protein" [style.height]="item.proteinPercentage+'%'">
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="breakdownColumnsToDisplay"></tr>
          <tr mat-row *matRowDef="let myRowData; columns: breakdownColumnsToDisplay"></tr>

        </table>
      </div>

    </mat-card-content>
  </mat-card>
</div>